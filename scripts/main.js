"use strict";function render(){percentage+=5e-4;var e=path.getPointAt(percentage%1),n=path.getPointAt((percentage+.01)%1);camera.position.set(e.x,e.y,e.z),camera.lookAt(n),renderer.render(scene,camera),requestAnimationFrame(render)}$(document).ready(function(){function e(){window.location=newLocation}$(".link").click(function(){event.preventDefault(),newLocation=this.href,$("body").fadeOut(1e3,e)})});var ww=window.innerWidth,wh=window.innerHeight,renderer=new THREE.WebGLRenderer({canvas:document.querySelector("canvas")});renderer.setSize(ww,wh);var scene=new THREE.Scene;scene.fog=new THREE.Fog(0,30,150);var camera=new THREE.PerspectiveCamera(45,ww/wh,.1,150);camera.position.y=400,camera.position.z=400;for(var points=[[68.5,185.5],[1,262.5],[270.9,281.9],[345.5,212.8],[178,155.7],[240.3,72.3],[153.4,.6],[52.6,53.3],[68.5,185.5]],i=0;i<points.length;i++){var x=points[i][0],y=100*Math.random(),z=points[i][1];points[i]=new THREE.Vector3(x,y,z)}var path=new THREE.CatmullRomCurve3(points);path.closed=!0;var tubeDetail=500,circlesDetail=10,radius=8,frames=path.computeFrenetFrames(tubeDetail,!0),geometry=new THREE.Geometry,color=new THREE.Color(0);noise.seed(Math.random());var cube=new THREE.BoxBufferGeometry(4,4,4),mat=new THREE.MeshBasicMaterial({color:16777215}),cubeMesh=new THREE.Mesh(cube,mat),container=new THREE.Object3D;scene.add(container);for(var i=0;i<tubeDetail;i++)for(var normal=frames.normals[i],binormal=frames.binormals[i],index=i/tubeDetail,p=path.getPointAt(index),j=0;j<circlesDetail;j++){var position=p.clone(),angle=j/circlesDetail*Math.PI*2,sin=Math.sin(angle),cos=-Math.cos(angle),normalPoint=new THREE.Vector3(0,0,0);normalPoint.x=cos*normal.x+sin*binormal.x,normalPoint.y=cos*normal.y+sin*binormal.y,normalPoint.z=cos*normal.z+sin*binormal.z;var tempRadius=(.2*Math.random()+.8)*radius;normalPoint.multiplyScalar(tempRadius),position.add(normalPoint);var perlin=Math.abs(noise.simplex3(.008*position.x,.01*position.y,.005*position.z)),color=new THREE.Color("hsl("+360*perlin+", 50%, 50%)"),mesh=cubeMesh.clone(!1);mesh.position.set(position.x,position.y,position.z),mesh.material=cubeMesh.material.clone(!1),mesh.material.color=color,mesh.rotation.x=Math.random()*Math.PI*2,mesh.rotation.y=Math.random()*Math.PI*2,mesh.rotation.z=Math.random()*Math.PI*2,container.add(mesh)}var percentage=0;requestAnimationFrame(render);var Boxlayout=function(){function e(){n()}function n(){i.each(function(){var e=$(this);e.on("click",function(){e.data("open")||(e.data("open",!0).addClass("bl-expand bl-expand-top"),o.addClass("bl-expand-item"))}).find("span.bl-icon-close").on("click",function(){return e.data("open",!1).removeClass("bl-expand").on(t,function(e){if(!$(e.target).is("section"))return!1;$(this).off(t).removeClass("bl-expand-top")}),r||e.removeClass("bl-expand-top"),o.removeClass("bl-expand-item"),!1})})}var o=$("#bl-main"),i=o.children("section"),a=($("#bl-work-section"),$("#bl-work-items > li"),{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}),t=a[Modernizr.prefixed("transition")],r=Modernizr.csstransitions;return{init:e}}();